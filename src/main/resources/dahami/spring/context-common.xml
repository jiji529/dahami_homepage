<?xml version="1.0" encoding="UTF-8"?>
<beans 
	xmlns="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p" 
	xmlns:context="http://www.springframework.org/schema/context"	
	xsi:schemaLocation=
		"http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context.xsd"> 
	
	<bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
		<property name="basenames">
			<list>
				<value>classpath:/dahami/message/message-common</value>
				<value>classpath:/egovframework/rte/fdl/idgnr/messages/idgnr</value>
				<value>classpath:/egovframework/rte/fdl/property/messages/properties</value>
				<value>classpath:/dahami/message/ser/message-ser</value>
				<value>classpath:/dahami/message/doc/message-dkr</value>
				<value>classpath:/dahami/message/doc/message-djp</value>
				<value>classpath:/dahami/message/doc/message-dus</value>
				<value>classpath:/dahami/message/doc/message-dep</value>
				<value>classpath:/dahami/message/doc/message-lnk</value>
				<value>classpath:/dahami/message/doc/message-dsc</value>
				<value>classpath:/dahami/message/doc/message-dpa</value>
				<value>classpath:/dahami/message/pro/message-pro</value>
				<value>classpath:/dahami/message/doc/message-cla</value>
				<value>classpath:/dahami/message/knd/message-knd</value>
				<value>classpath:/dahami/message/cln/message-cln</value>
				<value>classpath:/dahami/message/cla/message-cla</value>
				<value>classpath:/dahami/message/exp/message-exp</value>
				<value>classpath:/dahami/message/cht/message-cht</value>
				<value>classpath:/dahami/message/org/message-org</value>
				<value>classpath:/dahami/message/rpt/message-rpt</value>
			</list>
		</property>
		<property name="cacheSeconds">
			<value>60</value>
		</property>
	</bean>
	
	<bean id="leaveaTrace" class="egovframework.rte.fdl.cmmn.trace.LeaveaTrace">
		<property name="traceHandlerServices">
			<list>
				<ref bean="traceHandlerService" />
			</list>
		</property>
	</bean>

	<bean id="traceHandlerService"
		class="egovframework.rte.fdl.cmmn.trace.manager.DefaultTraceHandleManager">
		<property name="reqExpMatcher">
			<ref bean="antPathMater" />
		</property>
		<property name="patterns">
			<list>
				<value>*</value>
			</list>
		</property>
		<property name="handlers">
			<list>
				<ref bean="defaultTraceHandler" />
			</list>
		</property>
	</bean>
	
	<bean id="jacksonMessageConverter"
        class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter" />
<!--
    <bean
        class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
        <property name="messageConverters">
            <list>
                <ref bean="jacksonMessageConverter" />
            </list>
        </property>
    </bean>
-->
	<bean id="antPathMater" class="org.springframework.util.AntPathMatcher" />

	<bean id="defaultTraceHandler"
		class="egovframework.rte.fdl.cmmn.trace.handler.DefaultTraceHandler" />
	
	
	
	<bean id="textRenderer" class="egovframework.rte.ptl.mvc.tags.ui.pagination.DefaultPaginationRenderer"/>
	<bean id="paginationManager" class="egovframework.rte.ptl.mvc.tags.ui.pagination.DefaultPaginationManager">
		<property name="rendererType">
			<map>
				<entry key="text" value-ref="textRenderer"/>
			</map>
		</property>
	</bean>
	
	
	
	<!-- 파일업로드를 위한 MultipartResolver 정의 -->
	<bean id="spring.RegularCommonsMultipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
		<property name="maxUploadSize" value="13145728" />
		<property name="maxInMemorySize" value="13145728" />
	</bean>

	<alias name="spring.RegularCommonsMultipartResolver" alias="multipartResolver" />
	 
    <context:component-scan base-package="egovframework,com.dahami"/>
      
</beans>
